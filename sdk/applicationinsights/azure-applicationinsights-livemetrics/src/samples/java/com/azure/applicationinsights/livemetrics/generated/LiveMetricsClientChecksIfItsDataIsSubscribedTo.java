// Copyright (c) Microsoft Corporation. All rights reserved.
// Licensed under the MIT License.
// Code generated by Microsoft (R) TypeSpec Code Generator.

package com.azure.applicationinsights.livemetrics.generated;

import com.azure.applicationinsights.livemetrics.LiveMetricsClient;
import com.azure.applicationinsights.livemetrics.LiveMetricsClientBuilder;
import com.azure.applicationinsights.livemetrics.models.CollectionConfigurationInfo;
import com.azure.applicationinsights.livemetrics.models.MonitoringDataPoint;
import com.azure.identity.DefaultAzureCredentialBuilder;
import java.time.OffsetDateTime;

public class LiveMetricsClientChecksIfItsDataIsSubscribedTo {
    public static void main(String[] args) {
        LiveMetricsClient liveMetricsClient
            = new LiveMetricsClientBuilder().credential(new DefaultAzureCredentialBuilder().build())
                .endpoint("https://global.livediagnostics.monitor.azure.com")
                .buildClient();
        // BEGIN:com.azure.applicationinsights.livemetrics.generated.issubscribed.livemetricsclientchecksifitsdataissubscribedto
        CollectionConfigurationInfo response = liveMetricsClient.isSubscribed("4473b98e-c70d-4220-b57c-2984c2a0e5cd",
            638422471817023700L, "SERVER-PC-NAME", "server-pc-name", "41112328328b4edb9aa777aa6d675186",
            "server-role-name", "5", "1::bu8uyb2wr89ycvvn0iznpa4a9ufqax76::2::",
            new MonitoringDataPoint("2.21.0-429", 5, "server-pc-name", "", "SERVER-PC-NAME",
                "41112328328b4edb9aa777aa6d675186", false, true)
                    .setTimestamp(OffsetDateTime.parse("2024-02-01T21:36:32.5717105Z")));
        // END:com.azure.applicationinsights.livemetrics.generated.issubscribed.livemetricsclientchecksifitsdataissubscribedto
    }
}
